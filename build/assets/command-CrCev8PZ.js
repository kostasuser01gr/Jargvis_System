import{j as p,r as a}from"./motion-vendor-p9aEIkqH.js";import{J as xe,K as le,M as De,N as _e,O as Ae,Q as be,S as oe,j as O,P as N,c as L}from"./ui-vendor-BbNrkhEz.js";import{b as I}from"./index-CHaOuz3F.js";import{aF as Me,a6 as $e}from"./icons-vendor-VSlSZuOm.js";function Pe({...e}){return p.jsx(xe,{"data-slot":"dialog",...e})}function ze({...e}){return p.jsx(be,{"data-slot":"dialog-portal",...e})}const ye=a.forwardRef(({className:e,...r},n)=>p.jsx(oe,{ref:n,"data-slot":"dialog-overlay",className:I("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r}));ye.displayName=oe.displayName;const we=a.forwardRef(({className:e,children:r,...n},u)=>p.jsxs(ze,{"data-slot":"dialog-portal",children:[p.jsx(ye,{}),p.jsxs(le,{ref:u,"data-slot":"dialog-content",className:I("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[r,p.jsxs(De,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(Me,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));we.displayName=le.displayName;function Oe({className:e,...r}){return p.jsx("div",{"data-slot":"dialog-header",className:I("flex flex-col gap-2 text-center sm:text-left",e),...r})}function Fe({className:e,...r}){return p.jsx(_e,{"data-slot":"dialog-title",className:I("text-lg leading-none font-semibold",e),...r})}function Ke({className:e,...r}){return p.jsx(Ae,{"data-slot":"dialog-description",className:I("text-muted-foreground text-sm",e),...r})}var ge=1,Le=.9,Te=.8,qe=.17,ee=.1,te=.999,Ve=.9999,Be=.99,Je=/[\\\/_+.#"@\[\(\{&]/,Ge=/[\\\/_+.#"@\[\(\{&]/g,He=/[\s-]/,ke=/[\s-]/g;function ne(e,r,n,u,o,s,c){if(s===r.length)return o===e.length?ge:Be;var f=`${o},${s}`;if(c[f]!==void 0)return c[f];for(var b=u.charAt(s),i=n.indexOf(b,o),v=0,h,S,k,j;i>=0;)h=ne(e,r,n,u,i+1,s+1,c),h>v&&(i===o?h*=ge:Je.test(e.charAt(i-1))?(h*=Te,k=e.slice(o,i-1).match(Ge),k&&o>0&&(h*=Math.pow(te,k.length))):He.test(e.charAt(i-1))?(h*=Le,j=e.slice(o,i-1).match(ke),j&&o>0&&(h*=Math.pow(te,j.length))):(h*=qe,o>0&&(h*=Math.pow(te,i-o))),e.charAt(i)!==r.charAt(s)&&(h*=Ve)),(h<ee&&n.charAt(i-1)===u.charAt(s+1)||u.charAt(s+1)===u.charAt(s)&&n.charAt(i-1)!==u.charAt(s))&&(S=ne(e,r,n,u,i+1,s+2,c),S*ee>h&&(h=S*ee)),h>v&&(v=h),i=n.indexOf(b,i+1);return c[f]=v,v}function ve(e){return e.toLowerCase().replace(ke," ")}function Ue(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,ne(e,r,ve(e),ve(r),0,0,{})}var K='[cmdk-group=""]',re='[cmdk-group-items=""]',We='[cmdk-group-heading=""]',Ee='[cmdk-item=""]',he=`${Ee}:not([aria-disabled="true"])`,ae="cmdk-item-select",P="data-value",Xe=(e,r,n)=>Ue(e,r,n),Ce=a.createContext(void 0),T=()=>a.useContext(Ce),Se=a.createContext(void 0),ie=()=>a.useContext(Se),Ie=a.createContext(void 0),je=a.forwardRef((e,r)=>{let n=z(()=>{var t,d;return{search:"",value:(d=(t=e.value)!=null?t:e.defaultValue)!=null?d:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),u=z(()=>new Set),o=z(()=>new Map),s=z(()=>new Map),c=z(()=>new Set),f=Re(e),{label:b,children:i,value:v,onValueChange:h,filter:S,shouldFilter:k,loop:j,disablePointerSelection:J=!1,vimBindings:D=!0,...q}=e,G=O(),se=O(),H=O(),_=a.useRef(null),y=it();A(()=>{if(v!==void 0){let t=v.trim();n.current.value=t,E.emit()}},[v]),A(()=>{y(6,ue)},[]);let E=a.useMemo(()=>({subscribe:t=>(c.current.add(t),()=>c.current.delete(t)),snapshot:()=>n.current,setState:(t,d,m)=>{var l,g,x,C;if(!Object.is(n.current[t],d)){if(n.current[t]=d,t==="search")Q(),W(),y(1,X);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let w=document.getElementById(H);w?w.focus():(l=document.getElementById(G))==null||l.focus()}if(y(7,()=>{var w;n.current.selectedItemId=(w=$())==null?void 0:w.id,E.emit()}),m||y(5,ue),((g=f.current)==null?void 0:g.value)!==void 0){let w=d??"";(C=(x=f.current).onValueChange)==null||C.call(x,w);return}}E.emit()}},emit:()=>{c.current.forEach(t=>t())}}),[]),U=a.useMemo(()=>({value:(t,d,m)=>{var l;d!==((l=s.current.get(t))==null?void 0:l.value)&&(s.current.set(t,{value:d,keywords:m}),n.current.filtered.items.set(t,de(d,m)),y(2,()=>{W(),E.emit()}))},item:(t,d)=>(u.current.add(t),d&&(o.current.has(d)?o.current.get(d).add(t):o.current.set(d,new Set([t]))),y(3,()=>{Q(),W(),n.current.value||X(),E.emit()}),()=>{s.current.delete(t),u.current.delete(t),n.current.filtered.items.delete(t);let m=$();y(4,()=>{Q(),m?.getAttribute("id")===t&&X(),E.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{s.current.delete(t),o.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:G,inputId:H,labelId:se,listInnerRef:_}),[]);function de(t,d){var m,l;let g=(l=(m=f.current)==null?void 0:m.filter)!=null?l:Xe;return t?g(t,n.current.search,d):0}function W(){if(!n.current.search||f.current.shouldFilter===!1)return;let t=n.current.filtered.items,d=[];n.current.filtered.groups.forEach(l=>{let g=o.current.get(l),x=0;g.forEach(C=>{let w=t.get(C);x=Math.max(w,x)}),d.push([l,x])});let m=_.current;F().sort((l,g)=>{var x,C;let w=l.getAttribute("id"),V=g.getAttribute("id");return((x=t.get(V))!=null?x:0)-((C=t.get(w))!=null?C:0)}).forEach(l=>{let g=l.closest(re);g?g.appendChild(l.parentElement===g?l:l.closest(`${re} > *`)):m.appendChild(l.parentElement===m?l:l.closest(`${re} > *`))}),d.sort((l,g)=>g[1]-l[1]).forEach(l=>{var g;let x=(g=_.current)==null?void 0:g.querySelector(`${K}[${P}="${encodeURIComponent(l[0])}"]`);x?.parentElement.appendChild(x)})}function X(){let t=F().find(m=>m.getAttribute("aria-disabled")!=="true"),d=t?.getAttribute(P);E.setState("value",d||void 0)}function Q(){var t,d,m,l;if(!n.current.search||f.current.shouldFilter===!1){n.current.filtered.count=u.current.size;return}n.current.filtered.groups=new Set;let g=0;for(let x of u.current){let C=(d=(t=s.current.get(x))==null?void 0:t.value)!=null?d:"",w=(l=(m=s.current.get(x))==null?void 0:m.keywords)!=null?l:[],V=de(C,w);n.current.filtered.items.set(x,V),V>0&&g++}for(let[x,C]of o.current)for(let w of C)if(n.current.filtered.items.get(w)>0){n.current.filtered.groups.add(x);break}n.current.filtered.count=g}function ue(){var t,d,m;let l=$();l&&(((t=l.parentElement)==null?void 0:t.firstChild)===l&&((m=(d=l.closest(K))==null?void 0:d.querySelector(We))==null||m.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function $(){var t;return(t=_.current)==null?void 0:t.querySelector(`${Ee}[aria-selected="true"]`)}function F(){var t;return Array.from(((t=_.current)==null?void 0:t.querySelectorAll(he))||[])}function Y(t){let d=F()[t];d&&E.setState("value",d.getAttribute(P))}function Z(t){var d;let m=$(),l=F(),g=l.findIndex(C=>C===m),x=l[g+t];(d=f.current)!=null&&d.loop&&(x=g+t<0?l[l.length-1]:g+t===l.length?l[0]:l[g+t]),x&&E.setState("value",x.getAttribute(P))}function ce(t){let d=$(),m=d?.closest(K),l;for(;m&&!l;)m=t>0?lt(m,K):ot(m,K),l=m?.querySelector(he);l?E.setState("value",l.getAttribute(P)):Z(t)}let me=()=>Y(F().length-1),fe=t=>{t.preventDefault(),t.metaKey?me():t.altKey?ce(1):Z(1)},pe=t=>{t.preventDefault(),t.metaKey?Y(0):t.altKey?ce(-1):Z(-1)};return a.createElement(N.div,{ref:r,tabIndex:-1,...q,"cmdk-root":"",onKeyDown:t=>{var d;(d=q.onKeyDown)==null||d.call(q,t);let m=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||m))switch(t.key){case"n":case"j":{D&&t.ctrlKey&&fe(t);break}case"ArrowDown":{fe(t);break}case"p":case"k":{D&&t.ctrlKey&&pe(t);break}case"ArrowUp":{pe(t);break}case"Home":{t.preventDefault(),Y(0);break}case"End":{t.preventDefault(),me();break}case"Enter":{t.preventDefault();let l=$();if(l){let g=new Event(ae);l.dispatchEvent(g)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:dt},b),B(e,t=>a.createElement(Se.Provider,{value:E},a.createElement(Ce.Provider,{value:U},t))))}),Qe=a.forwardRef((e,r)=>{var n,u;let o=O(),s=a.useRef(null),c=a.useContext(Ie),f=T(),b=Re(e),i=(u=(n=b.current)==null?void 0:n.forceMount)!=null?u:c?.forceMount;A(()=>{if(!i)return f.item(o,c?.id)},[i]);let v=Ne(o,s,[e.value,e.children,s],e.keywords),h=ie(),S=R(y=>y.value&&y.value===v.current),k=R(y=>i||f.filter()===!1?!0:y.search?y.filtered.items.get(o)>0:!0);a.useEffect(()=>{let y=s.current;if(!(!y||e.disabled))return y.addEventListener(ae,j),()=>y.removeEventListener(ae,j)},[k,e.onSelect,e.disabled]);function j(){var y,E;J(),(E=(y=b.current).onSelect)==null||E.call(y,v.current)}function J(){h.setState("value",v.current,!0)}if(!k)return null;let{disabled:D,value:q,onSelect:G,forceMount:se,keywords:H,..._}=e;return a.createElement(N.div,{ref:L(s,r),..._,id:o,"cmdk-item":"",role:"option","aria-disabled":!!D,"aria-selected":!!S,"data-disabled":!!D,"data-selected":!!S,onPointerMove:D||f.getDisablePointerSelection()?void 0:J,onClick:D?void 0:j},e.children)}),Ye=a.forwardRef((e,r)=>{let{heading:n,children:u,forceMount:o,...s}=e,c=O(),f=a.useRef(null),b=a.useRef(null),i=O(),v=T(),h=R(k=>o||v.filter()===!1?!0:k.search?k.filtered.groups.has(c):!0);A(()=>v.group(c),[]),Ne(c,f,[e.value,e.heading,b]);let S=a.useMemo(()=>({id:c,forceMount:o}),[o]);return a.createElement(N.div,{ref:L(f,r),...s,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&a.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:i},n),B(e,k=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?i:void 0},a.createElement(Ie.Provider,{value:S},k))))}),Ze=a.forwardRef((e,r)=>{let{alwaysRender:n,...u}=e,o=a.useRef(null),s=R(c=>!c.search);return!n&&!s?null:a.createElement(N.div,{ref:L(o,r),...u,"cmdk-separator":"",role:"separator"})}),et=a.forwardRef((e,r)=>{let{onValueChange:n,...u}=e,o=e.value!=null,s=ie(),c=R(i=>i.search),f=R(i=>i.selectedItemId),b=T();return a.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),a.createElement(N.input,{ref:r,...u,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:o?e.value:c,onChange:i=>{o||s.setState("search",i.target.value),n?.(i.target.value)}})}),tt=a.forwardRef((e,r)=>{let{children:n,label:u="Suggestions",...o}=e,s=a.useRef(null),c=a.useRef(null),f=R(i=>i.selectedItemId),b=T();return a.useEffect(()=>{if(c.current&&s.current){let i=c.current,v=s.current,h,S=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let k=i.offsetHeight;v.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return S.observe(i),()=>{cancelAnimationFrame(h),S.unobserve(i)}}},[]),a.createElement(N.div,{ref:L(s,r),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":u,id:b.listId},B(e,i=>a.createElement("div",{ref:L(c,b.listInnerRef),"cmdk-list-sizer":""},i)))}),rt=a.forwardRef((e,r)=>{let{open:n,onOpenChange:u,overlayClassName:o,contentClassName:s,container:c,...f}=e;return a.createElement(xe,{open:n,onOpenChange:u},a.createElement(be,{container:c},a.createElement(oe,{"cmdk-overlay":"",className:o}),a.createElement(le,{"aria-label":e.label,"cmdk-dialog":"",className:s},a.createElement(je,{ref:r,...f}))))}),nt=a.forwardRef((e,r)=>R(n=>n.filtered.count===0)?a.createElement(N.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),at=a.forwardRef((e,r)=>{let{progress:n,children:u,label:o="Loading...",...s}=e;return a.createElement(N.div,{ref:r,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},B(e,c=>a.createElement("div",{"aria-hidden":!0},c)))}),M=Object.assign(je,{List:tt,Item:Qe,Input:et,Group:Ye,Separator:Ze,Dialog:rt,Empty:nt,Loading:at});function lt(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function ot(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function Re(e){let r=a.useRef(e);return A(()=>{r.current=e}),r}var A=typeof window>"u"?a.useEffect:a.useLayoutEffect;function z(e){let r=a.useRef();return r.current===void 0&&(r.current=e()),r}function R(e){let r=ie(),n=()=>e(r.snapshot());return a.useSyncExternalStore(r.subscribe,n,n)}function Ne(e,r,n,u=[]){let o=a.useRef(),s=T();return A(()=>{var c;let f=(()=>{var i;for(let v of n){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(i=v.current.textContent)==null?void 0:i.trim():o.current}})(),b=u.map(i=>i.trim());s.value(e,f,b),(c=r.current)==null||c.setAttribute(P,f),o.current=f}),o}var it=()=>{let[e,r]=a.useState(),n=z(()=>new Map);return A(()=>{n.current.forEach(u=>u()),n.current=new Map},[e]),(u,o)=>{n.current.set(u,o),r({})}};function st(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function B({asChild:e,children:r},n){return e&&a.isValidElement(r)?a.cloneElement(st(r),{ref:r.ref},n(r.props.children)):n(r)}var dt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ut({className:e,...r}){return a.useEffect(()=>{fetch("http://127.0.0.1:7244/ingest/7769055a-33e5-41ee-95ff-da63c73d21b3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"command.tsx:37",message:"Command component rendering",data:{hasProps:!!r},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"E"})}).catch(()=>{})},[]),p.jsx(M,{"data-slot":"command",className:I("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function gt({title:e="Command Palette",description:r="Search for a command to run...",children:n,...u}){const[o,s]=a.useState(!1);return a.useEffect(()=>{s(!0),fetch("http://127.0.0.1:7244/ingest/7769055a-33e5-41ee-95ff-da63c73d21b3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"command.tsx:44",message:"CommandDialog mounted",data:{open:u.open},timestamp:Date.now(),sessionId:"debug-session",runId:"post-fix",hypothesisId:"E"})}).catch(()=>{})},[u.open]),p.jsxs(Pe,{...u,children:[p.jsxs(Oe,{className:"sr-only",children:[p.jsx(Fe,{children:e}),p.jsx(Ke,{children:r})]}),p.jsx(we,{className:"overflow-hidden p-0",children:o?p.jsx(ut,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n}):p.jsx("div",{className:"p-4",children:"Loading..."})})]})}function vt({className:e,...r}){return p.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[p.jsx($e,{className:"size-4 shrink-0 opacity-50"}),p.jsx(M.Input,{"data-slot":"command-input",className:I("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function ht({className:e,...r}){return p.jsx(M.List,{"data-slot":"command-list",className:I("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function xt({...e}){return p.jsx(M.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function bt({className:e,...r}){return p.jsx(M.Group,{"data-slot":"command-group",className:I("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function yt({className:e,...r}){return p.jsx(M.Separator,{"data-slot":"command-separator",className:I("bg-border -mx-1 h-px",e),...r})}function wt({className:e,...r}){return p.jsx(M.Item,{"data-slot":"command-item",className:I("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}export{vt as C,Pe as D,we as a,Oe as b,Fe as c,ht as d,xt as e,bt as f,wt as g,gt as h,yt as i};
