import{r as i,j as e,A as b,m as k}from"./motion-vendor-p9aEIkqH.js";import{B as h,C as M}from"./index-CAmxhJNz.js";import{A as x,aF as C,Z as P,a as S,C as T,k as E}from"./icons-vendor-VSlSZuOm.js";import"./ui-vendor-BbNrkhEz.js";function A(){const[l,m]=i.useState(!1),[s,c]=i.useState({fps:60,memory:{used:0,total:0,limit:0},cpu:0,renderTime:0,networkLatency:0}),y=i.useCallback(()=>{let a=performance.now(),n=0,o=60;const u=()=>{n++;const t=performance.now();t>=a+1e3&&(o=Math.round(n*1e3/(t-a)),n=0,a=t,c(r=>({...r,fps:o}))),requestAnimationFrame(u)};u();const p=()=>{if(performance.memory){const t=performance.memory;c(r=>({...r,memory:{used:Math.round(t.usedJSHeapSize/1048576),total:Math.round(t.totalJSHeapSize/1048576),limit:Math.round(t.jsHeapSizeLimit/1048576)}}))}},j=()=>{const t=Math.random()*40+10;c(r=>({...r,cpu:Math.round(t)}))},N=()=>{const t=performance.getEntriesByType("measure");if(t.length>0){const r=t[t.length-1];c(w=>({...w,renderTime:Math.round(r.duration)}))}},g=()=>{const t=Math.random()*50+10;c(r=>({...r,networkLatency:Math.round(t)}))},v=setInterval(()=>{p(),j(),N(),g()},1e3);return()=>clearInterval(v)},[]);i.useEffect(()=>{if(l)return y()},[l,y]),i.useEffect(()=>{const a=n=>{(n.metaKey||n.ctrlKey)&&n.shiftKey&&n.key==="p"&&(n.preventDefault(),m(o=>!o))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]);const d=(a,n)=>a<=n.good?"text-green-400":a<=n.ok?"text-yellow-400":"text-red-400",f=a=>a>=55?"text-green-400":a>=30?"text-yellow-400":"text-red-400";return e.jsxs(e.Fragment,{children:[e.jsxs(h,{onClick:()=>m(!l),className:"fixed bottom-4 right-4 z-50 bg-black/80 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20",size:"sm",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Performance"]}),e.jsx(b,{children:l&&e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed top-4 right-4 z-50",children:e.jsxs(M,{className:"glass-card p-4 border border-cyan-500/30 w-80",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-cyan-400 flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4"}),"Performance Monitor"]}),e.jsx(h,{onClick:()=>m(!1),variant:"ghost",size:"sm",className:"text-cyan-400 hover:text-cyan-300",children:e.jsx(C,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"FPS"})]}),e.jsx("div",{className:`text-lg font-mono ${f(s.fps)}`,children:s.fps})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"Memory"})]}),e.jsxs("div",{className:"text-sm font-mono text-cyan-400",children:[s.memory.used," / ",s.memory.total," MB"]})]}),e.jsx("div",{className:"w-full bg-black/40 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-2 rounded-full transition-all",style:{width:`${s.memory.used/s.memory.total*100}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"CPU"})]}),e.jsxs("div",{className:`text-sm font-mono ${d(s.cpu,{good:30,ok:60})}`,children:[s.cpu,"%"]})]}),e.jsx("div",{className:"w-full bg-black/40 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${s.cpu<=30?"bg-green-500":s.cpu<=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.cpu}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"Render"})]}),e.jsxs("div",{className:`text-sm font-mono ${d(s.renderTime,{good:16,ok:33})}`,children:[s.renderTime,"ms"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"Latency"})]}),e.jsxs("div",{className:`text-sm font-mono ${d(s.networkLatency,{good:30,ok:50})}`,children:[s.networkLatency,"ms"]})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-cyan-500/20",children:e.jsxs("p",{className:"text-xs text-cyan-600",children:["Press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-cyan-500/20 rounded text-cyan-400",children:"⌘⇧P"})," to toggle"]})})]})})})]})}export{A as PerformanceOverlay};
