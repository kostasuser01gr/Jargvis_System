import{r as l,j as t,A as Y,m as f}from"./motion-vendor-p9aEIkqH.js";import{t as G}from"./index-CAmxhJNz.js";import{bl as T,bg as R,bq as P,br as Z}from"./icons-vendor-VSlSZuOm.js";import"./ui-vendor-BbNrkhEz.js";function I(){const[c,h]=l.useState(null),[p,b]=l.useState(0),a=l.useRef(""),u=l.useRef();l.useEffect(()=>{let i=0,w=0,r=0;const v=e=>{if(b(e.touches.length),e.touches.length===1)i=e.touches[0].clientX,w=e.touches[0].clientY;else if(e.touches.length===2){const s=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY;r=Math.sqrt(s*s+n*n)}},g=e=>{if(e.touches.length===1){const s=e.touches[0].clientX-i,n=e.touches[0].clientY-w;if(Math.abs(s)>50||Math.abs(n)>50){let o="";Math.abs(s)>Math.abs(n)?o=s>0?"swipe-right":"swipe-left":o=n>0?"swipe-down":"swipe-up",o!==a.current&&(m(o),a.current=o)}}else if(e.touches.length===2){const s=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,S=Math.sqrt(s*s+n*n)-r;if(Math.abs(S)>20){const x=S>0?"pinch-out":"pinch-in";x!==a.current&&(m(x),a.current=x)}}},y=()=>{b(0),u.current=setTimeout(()=>{h(null),a.current=""},1500)};let j=0,M=0,d=!1;const N=e=>{d=!0,j=e.clientX,M=e.clientY},E=e=>{if(!d)return;const s=e.clientX-j,n=e.clientY-M;if(Math.abs(s)>100||Math.abs(n)>100){let o="";Math.abs(s)>Math.abs(n)?o=s>0?"swipe-right":"swipe-left":o=n>0?"swipe-down":"swipe-up",o!==a.current&&(m(o),a.current=o),d=!1}},L=()=>{d=!1,u.current=setTimeout(()=>{h(null),a.current=""},1500)};return window.addEventListener("touchstart",v),window.addEventListener("touchmove",g),window.addEventListener("touchend",y),window.addEventListener("mousedown",N),window.addEventListener("mousemove",E),window.addEventListener("mouseup",L),()=>{window.removeEventListener("touchstart",v),window.removeEventListener("touchmove",g),window.removeEventListener("touchend",y),window.removeEventListener("mousedown",N),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",L),u.current&&clearTimeout(u.current)}},[]);const m=i=>{h(i);const r={"swipe-left":{message:"Previous panel",icon:"←"},"swipe-right":{message:"Next panel",icon:"→"},"swipe-up":{message:"Scroll up",icon:"↑"},"swipe-down":{message:"Scroll down",icon:"↓"},"pinch-in":{message:"Zoom out",icon:"−"},"pinch-out":{message:"Zoom in",icon:"+"}}[i];r&&G.info(r.message,{icon:r.icon,duration:2e3})},X=()=>{switch(c){case"swipe-left":case"swipe-right":case"swipe-up":case"swipe-down":return t.jsx(Z,{className:"w-5 h-5 text-cyan-400"});case"pinch-in":return t.jsx(P,{className:"w-5 h-5 text-cyan-400"});case"pinch-out":return t.jsx(R,{className:"w-5 h-5 text-cyan-400"});default:return t.jsx(T,{className:"w-5 h-5 text-cyan-400"})}};return t.jsx(Y,{children:t.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-6 right-6 z-50",children:t.jsxs("div",{className:"bg-gradient-to-br from-cyan-950/90 to-blue-950/90 border border-cyan-500/50 rounded-lg p-4 backdrop-blur-xl shadow-2xl shadow-cyan-500/20 min-w-[280px]",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx(f.div,{animate:c?{scale:[1,1.2,1],rotate:c?.includes("rotate")?360:0}:{},transition:{duration:.5},className:"p-2 rounded-full bg-cyan-500/20",children:X()}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs text-cyan-400",children:"Gesture Control"}),t.jsx("p",{className:"text-xs text-cyan-600",children:c?c.replace("-"," ").toUpperCase():"Active"})]}),p>0&&t.jsxs("div",{className:"px-2 py-1 bg-cyan-500/20 rounded text-xs text-cyan-400",children:[p," touch",p>1?"es":""]})]}),c&&t.jsx(f.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-cyan-500/30 pt-3",children:t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Swipe ←",color:c==="swipe-left"},{label:"Swipe →",color:c==="swipe-right"},{label:"Swipe ↑",color:c==="swipe-up"},{label:"Swipe ↓",color:c==="swipe-down"}].map(i=>t.jsx("div",{className:`text-xs py-1 px-2 rounded text-center ${i.color?"bg-cyan-400/20 text-cyan-300 border border-cyan-400/50":"bg-cyan-950/30 text-cyan-600"}`,children:i.label},i.label))})}),t.jsx("div",{className:"mt-3 pt-3 border-t border-cyan-500/30",children:t.jsx("p",{className:"text-xs text-cyan-700",children:"Swipe or pinch to control interface"})})]})})})}export{I as GestureController};
