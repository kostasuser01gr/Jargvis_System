import{r as a,j as e,A as j,m as o}from"./motion-vendor-p9aEIkqH.js";import{t as c}from"./index-CAmxhJNz.js";import{c as b,M as w,V as N}from"./icons-vendor-VSlSZuOm.js";import"./ui-vendor-BbNrkhEz.js";function C(){const[n,l]=a.useState(!1),[h,u]=a.useState(""),[d,f]=a.useState(0),m=a.useRef(null);a.useEffect(()=>{const i=window.SpeechRecognition||window.webkitSpeechRecognition;if(!i){c.error("Speech recognition not supported in this browser");return}const t=new i;t.continuous=!0,t.interimResults=!0,t.lang="en-US",t.onstart=()=>{l(!0),c.success("Voice control activated",{duration:2e3})},t.onresult=s=>{const x=s.results.length-1,p=s.results[x][0].transcript,g=s.results[x][0].confidence;u(p),f(g),s.results[x].isFinal&&y(p)},t.onerror=s=>{console.error("Speech recognition error:",s.error),l(!1),s.error!=="no-speech"&&c.error(`Voice error: ${s.error}`)},t.onend=()=>{l(!1),u("")},m.current=t;try{t.start()}catch(s){console.error("Failed to start recognition:",s)}return()=>{m.current&&m.current.stop()}},[]);const y=i=>{const t=i.toLowerCase().trim();if(t.includes("hello")||t.includes("jarvis"))r("Hello, Sir. How may I assist you?");else if(t.includes("status"))r("All systems operational. Running at peak efficiency.");else if(t.includes("time")){const s=new Date().toLocaleTimeString();r(`The current time is ${s}`)}else t.includes("analytics")?(c.info("Opening analytics dashboard"),r("Opening analytics dashboard")):t.includes("scan")&&(c.info("Initiating system scan"),r("Initiating comprehensive system scan"))},r=i=>{const t=new SpeechSynthesisUtterance(i);t.rate=.9,t.pitch=1,t.volume=1,window.speechSynthesis.speak(t)};return e.jsx(j,{children:e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-6 left-6 z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-cyan-950/90 to-blue-950/90 border border-cyan-500/50 rounded-lg p-4 backdrop-blur-xl shadow-2xl shadow-cyan-500/20 min-w-[300px]",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(o.div,{animate:{scale:n?[1,1.2,1]:1,opacity:n?[.5,1,.5]:1},transition:{duration:1.5,repeat:n?1/0:0},className:`p-2 rounded-full ${n?"bg-green-500/20":"bg-cyan-500/20"}`,children:n?e.jsx(b,{className:"w-5 h-5 text-green-400"}):e.jsx(w,{className:"w-5 h-5 text-cyan-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-cyan-400",children:"Voice Control"}),e.jsx("p",{className:"text-xs text-cyan-600",children:n?"Listening...":"Standby"})]}),e.jsx(N,{className:"w-4 h-4 text-cyan-400"})]}),n&&h&&e.jsxs(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-cyan-500/30 pt-3 mt-3",children:[e.jsx("p",{className:"text-xs text-cyan-600 mb-1",children:"Transcript:"}),e.jsx("p",{className:"text-sm text-cyan-300",children:h}),d>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-cyan-600 mb-1",children:[e.jsx("span",{children:"Confidence"}),e.jsxs("span",{children:[Math.round(d*100),"%"]})]}),e.jsx("div",{className:"h-1 bg-cyan-950/50 rounded-full overflow-hidden",children:e.jsx(o.div,{className:"h-full bg-cyan-400",initial:{width:0},animate:{width:`${d*100}%`},transition:{duration:.3}})})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-cyan-500/30",children:e.jsx("p",{className:"text-xs text-cyan-700",children:'Try: "Hello JARVIS" or "Show status"'})})]})})})}export{C as VoiceController};
