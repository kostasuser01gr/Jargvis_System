import{r,j as e,m as g,A as b}from"./motion-vendor-p9aEIkqH.js";import{B as i,t as p}from"./index-CHaOuz3F.js";import{B as N,I as R,a as w,b as C,c as S,d as k,e as n,S as F}from"./select-Ck-yNZxR.js";import{aB as u,bs as V,aF as $,a6 as J,bt as Q,O as q,ap as H,p as X,T as G,m as K}from"./icons-vendor-VSlSZuOm.js";import"./ui-vendor-BbNrkhEz.js";function ae({position:y="top-right"}){const[c,l]=r.useState(()=>{const a=localStorage.getItem("jarvis-notifications");return a?JSON.parse(a).map(t=>({...t,timestamp:new Date(t.timestamp)})):[]}),[f,v]=r.useState(!1),[o,A]=r.useState("all"),[h,I]=r.useState(""),[x,P]=r.useState("all");r.useEffect(()=>{localStorage.setItem("jarvis-notifications",JSON.stringify(c))},[c]),r.useEffect(()=>{if(c.length===0){const t=[{id:"1",type:"success",title:"System Online",message:"All systems initialized successfully",timestamp:new Date,read:!1,archived:!1,category:"System"},{id:"2",type:"info",title:"Security Scan Complete",message:"No threats detected. System secure.",timestamp:new Date(Date.now()-6e4),read:!1,archived:!1,category:"Security"},{id:"3",type:"info",title:"Theme Applied",message:"Cyan Matrix theme has been applied",timestamp:new Date(Date.now()-12e4),read:!0,archived:!1,category:"UI"}];l(t)}const a=setInterval(()=>{const t=[{type:"info",title:"Network Status",message:"Connection optimal",category:"Network"},{type:"success",title:"Backup Complete",message:"All data backed up successfully",category:"System"},{type:"info",title:"Performance",message:"System running at peak efficiency",category:"Performance"},{type:"warning",title:"High CPU Usage",message:"CPU usage above 80%",category:"Performance"}],s=t[Math.floor(Math.random()*t.length)],L={id:Date.now().toString(),...s,timestamp:new Date,read:!1,archived:!1};l(U=>[L,...U].slice(0,50))},6e4);return()=>clearInterval(a)},[]);const d=r.useMemo(()=>{let a=c;if(o==="unread"?a=a.filter(t=>!t.read&&!t.archived):o==="read"?a=a.filter(t=>t.read&&!t.archived):o==="archived"?a=a.filter(t=>t.archived):a=a.filter(t=>!t.archived),x!=="all"&&(a=a.filter(t=>t.category===x)),h){const t=h.toLowerCase();a=a.filter(s=>s.title.toLowerCase().includes(t)||s.message.toLowerCase().includes(t)||s.category?.toLowerCase().includes(t))}return a.sort((t,s)=>s.timestamp.getTime()-t.timestamp.getTime())},[c,o,x,h]),m=c.filter(a=>!a.read&&!a.archived).length,j=r.useMemo(()=>{const a=new Set(c.map(t=>t.category).filter(Boolean));return Array.from(a)},[c]),B=a=>{l(t=>t.map(s=>s.id===a?{...s,read:!0}:s))},D=()=>{l(a=>a.map(t=>({...t,read:!0}))),p.success("All notifications marked as read")},z=a=>{l(t=>t.filter(s=>s.id!==a)),p.info("Notification removed")},T=a=>{l(t=>t.map(s=>s.id===a?{...s,archived:!0,read:!0}:s))},M=()=>{l(a=>a.map(t=>({...t,archived:!0,read:!0}))),p.success("All notifications cleared")},O=a=>{switch(a){case"success":return e.jsx(K,{className:"w-4 h-4 text-green-400"});case"warning":return e.jsx(G,{className:"w-4 h-4 text-yellow-400"});case"error":return e.jsx(X,{className:"w-4 h-4 text-red-400"});default:return e.jsx(H,{className:"w-4 h-4 text-cyan-400"})}},E=()=>{switch(y){case"top-left":return"top-20 left-6";case"bottom-right":return"bottom-20 right-6";case"bottom-left":return"bottom-20 left-6";default:return"top-20 right-6"}};return e.jsxs(e.Fragment,{children:[e.jsxs(g.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1},onClick:()=>v(!f),className:"fixed top-6 right-24 z-50 p-2 bg-cyan-500/20 border border-cyan-500/50 rounded-lg hover:bg-cyan-500/30 transition-colors relative",children:[e.jsx(u,{className:"w-5 h-5 text-cyan-400"}),m>0&&e.jsx(g.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-cyan-400 text-black text-xs rounded-full flex items-center justify-center font-bold",children:m>9?"9+":m})]}),e.jsx(b,{children:f&&e.jsxs(g.div,{initial:{opacity:0,x:y.includes("right")?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:y.includes("right")?100:-100},className:`fixed ${E()} z-50 w-96 max-h-[700px] bg-gradient-to-br from-black to-cyan-950/20 border border-cyan-500/50 rounded-lg backdrop-blur-xl shadow-2xl shadow-cyan-500/20 overflow-hidden flex flex-col`,children:[e.jsxs("div",{className:"p-4 border-b border-cyan-500/30 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h3",{className:"text-cyan-400 font-semibold",children:"Notifications"}),m>0&&e.jsx(N,{className:"bg-cyan-500 text-black text-xs",children:m})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(i,{onClick:D,variant:"ghost",size:"icon",className:"h-7 w-7 text-cyan-400 hover:bg-cyan-500/20",title:"Mark all as read",children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx(i,{onClick:()=>v(!1),variant:"ghost",size:"icon",className:"h-7 w-7 text-cyan-400 hover:bg-cyan-500/20",children:e.jsx($,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"relative mb-2",children:[e.jsx(J,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-cyan-600"}),e.jsx(R,{placeholder:"Search notifications...",value:h,onChange:a=>I(a.target.value),className:"pl-8 bg-black/40 border-cyan-500/30 text-cyan-300 placeholder:text-cyan-600 text-sm h-8"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{value:o,onValueChange:a=>A(a),children:[e.jsx(C,{className:"h-7 text-xs bg-black/40 border-cyan-500/30 text-cyan-300",children:e.jsx(S,{})}),e.jsxs(k,{children:[e.jsx(n,{value:"all",children:"All"}),e.jsx(n,{value:"unread",children:"Unread"}),e.jsx(n,{value:"read",children:"Read"}),e.jsx(n,{value:"archived",children:"Archived"})]})]}),j.length>0&&e.jsxs(w,{value:x,onValueChange:P,children:[e.jsx(C,{className:"h-7 text-xs bg-black/40 border-cyan-500/30 text-cyan-300 flex-1",children:e.jsx(S,{placeholder:"Category"})}),e.jsxs(k,{children:[e.jsx(n,{value:"all",children:"All Categories"}),j.map(a=>e.jsx(n,{value:a,children:a},a))]})]})]})]}),e.jsx(F,{className:"flex-1",children:d.length===0?e.jsxs("div",{className:"p-8 text-center text-cyan-600",children:[e.jsx(u,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),e.jsx("p",{children:"No notifications"})]}):e.jsx("div",{className:"p-2 space-y-2",children:e.jsx(b,{children:d.map(a=>e.jsx(g.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,height:0},className:`p-3 bg-cyan-950/30 border rounded-lg hover:border-cyan-500/40 transition-colors cursor-pointer ${a.read?"border-cyan-500/10 opacity-70":"border-cyan-500/20"}`,onClick:()=>!a.read&&B(a.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[O(a.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:`text-sm ${a.read?"text-cyan-400":"text-cyan-300 font-semibold"}`,children:a.title}),a.category&&e.jsx(N,{variant:"outline",className:"text-[10px] px-1.5 py-0 border-cyan-500/30 text-cyan-600",children:a.category})]}),e.jsx("p",{className:"text-xs text-cyan-600 mb-1",children:a.message}),e.jsx("p",{className:"text-xs text-cyan-700",children:a.timestamp.toLocaleTimeString()}),a.action&&e.jsx(i,{size:"sm",variant:"ghost",className:"mt-2 h-6 text-xs text-cyan-400 hover:bg-cyan-500/10",onClick:t=>{t.stopPropagation(),a.action?.onClick()},children:a.action.label})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[!a.read&&e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(i,{onClick:t=>{t.stopPropagation(),T(a.id)},variant:"ghost",size:"icon",className:"h-5 w-5 text-cyan-600 hover:text-cyan-400 hover:bg-cyan-500/10",title:"Archive",children:e.jsx(Q,{className:"w-3 h-3"})}),e.jsx(i,{onClick:t=>{t.stopPropagation(),z(a.id)},variant:"ghost",size:"icon",className:"h-5 w-5 text-cyan-600 hover:text-red-400 hover:bg-red-500/10",title:"Delete",children:e.jsx(q,{className:"w-3 h-3"})})]})]})]})},a.id))})})}),d.length>0&&e.jsxs("div",{className:"p-3 border-t border-cyan-500/30 flex-shrink-0 flex items-center justify-between",children:[e.jsx(i,{onClick:M,variant:"ghost",className:"text-cyan-400 hover:bg-cyan-500/10 text-sm",children:"Clear All"}),e.jsxs("span",{className:"text-xs text-cyan-600",children:[d.length," notification",d.length!==1?"s":""]})]})]})})]})}export{ae as EnhancedNotificationCenter};
